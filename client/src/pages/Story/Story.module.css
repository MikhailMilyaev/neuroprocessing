/* ==== ДЕСКТОП / ОБЩЕЕ — без изменений поведения ==== */
.viewport {
  position: static;
  background: #f5f5f5;
}

.headerSticky {
  position: static;       /* на десктопе шапка как и раньше */
  z-index: auto;
  background: transparent;
}

.scrollArea {
  position: static;       /* на десктопе скроллит вся страница */
  overflow: visible;
}

/* чтобы инпут-ловушка не мешала */
.vkCatcher {
  position: fixed;
  left: -9999px; bottom: 0;
  width: 1px; height: 1px;
  opacity: 0;
  pointer-events: none;
}

/* ==== МОБИЛКА (<700px + тач) — липкий хедер и скролл только в контенте ==== */
@media (max-width:700px) and (hover:none) and (pointer:coarse) {
  .viewport {
    position: fixed;
    inset: 0;
    background: #f5f5f5;
    overflow: hidden;                /* страница не скроллится */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
  }

  .headerSticky {
    position: sticky;
    top: 0;
    z-index: 50;
    background: #f5f5f5;
    /* свайпы по хедеру не прокручивают контейнер */
    overscroll-behavior: contain;
  }

  .scrollArea {
    position: absolute;
    left: 0; right: 0;
    top: var(--story-header-h, 56px);  /* StoryHeader ставит точную высоту */
    bottom: 0;
    overflow: auto;                     /* скролл только здесь */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    background: #f5f5f5;
  }

  .hideBackOnMobile { display: none !important; }
}

/* iOS PWA доп. правки (если добавляешь класс на <html>) */
html.ios-lock,
body.ios-lock {
  overscroll-behavior-y: none;
}

/* если хочешь убирать паддинг сверху для PWA iOS — можно держать */
.ios-standalone {
  --story-header-h: 0px !important;
}
